<!DOCTYPE html>
<html>
    <head>
        <link rel="shortcut icon" href="favicon.ico">
        <meta charset="utf-8">
        <title>The engine! 0.4.0</title>
        <script type="text/javascript" src="Events.js"></script>
        <script type="text/javascript" src="SpaceObject.js"></script>
        <script type="text/javascript" src="Physic.js"></script>
        <script type="text/javascript" src="Camera.js"></script>
        <script type="text/javascript" src="MenuBar.js"></script>
        <script type="text/javascript" src="GameLaws.js"></script>
    </head>
    <body>
        <script type="text/javascript">
            //Initialization
            objects                   =[];
            gameLaws                  =new GameLaws();
            physics                   =new Physics();
            camera                    =new Camera();
            menuBar                   =new MenuBar();

            //SVG and BG
            svg                       =gameLaws.svg;
            HTMLbody                  =gameLaws.HTMLbody;
            HTMLbody.style.background="black";
            HTMLbody.style.margin="0";
			svg.setAttribute('width',"100%");
            svg.setAttribute('height',"100%");
            svg.style.position="absolute";
            svg.style.left="0px";
            svg.style.top="0px";
            svg.style.zIndex="0";
            HTMLbody.appendChild(svg);
            window.addEventListener("keydown",newKeyDown);
            window.addEventListener("click",newClick);
            window.onresize=newWindowSize;

            //OBJECTS

            new SpaceObject(10000,11000,0,100);
            objects[0].velocityX=70.71;
            objects[0].velocityY=0;
            objects[0].velocityZ=0;
            objects[0].isPhysicsAffected=1;
            objects[0].BGColor="grey";
            objects[0].name="The Moon";
            console.log(objects[0]);
            new SpaceObject(10000,10000,0,5000);
            objects[1].velocityX=0;
            objects[1].velocityY=0;
            objects[1].velocityZ=0;
            objects[1].isPhysicsAffected=1;
            objects[1].volume=500;
            objects[1].BGColor="yellow";
            objects[1].name="The Sun";
            console.log(objects[1]);
            new SpaceObject(10000,12000,0,100);
            objects[2].velocityX=orbitalVelocity(objects[1],100);
            objects[2].velocityY=0;
            objects[2].velocityZ=0;
            objects[2].volume=60;
            objects[2].isPhysicsAffected=1;
            objects[2].BGColor="purple";
            console.log(objects[2]);
            /*new SpaceObject(10000,12000,0,15);
            objects[3].velocityX=orbitalVelocity(objects[1],100);
            objects[3].velocityY=0;
            objects[3].velocityZ=0;
            objects[3].isPhysicsAffected=1;
            objects[3].BGColor="red";
            console.log(objects[3]);*/

            //Main Loop for repetitions
            function runCycle(){
                if (gameLaws.isPaused!=1)physics.runPhysics();
                camera.cameraUpdater();
            }

            gameLaws.runCycle=runCycle;
            gameLaws.gameTimer=setInterval(gameLaws.runCycle, gameLaws.clock);

        </script>
    </body>
</html>
